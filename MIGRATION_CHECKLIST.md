# Чеклист миграции Marketsport

## Подготовка на старом сервере

### Экспорт данных
- [ ] Создан бэкап базы данных PostgreSQL
- [ ] Создан архив проекта (без node_modules, venv)
- [ ] Проверен размер архива
- [ ] Сохранены все переменные окружения (.env файлы)

### Документация
- [ ] Задокументированы все настройки
- [ ] Сохранены пароли и ключи (в безопасном месте)
- [ ] Задокументированы версии зависимостей

## Установка на новом сервере

### Системные требования
- [ ] Установлен Python 3.10+
- [ ] Установлен Node.js 18+
- [ ] Установлен PostgreSQL 13+
- [ ] Установлен Nginx
- [ ] Установлен Git

### Проект
- [ ] Распакован архив проекта
- [ ] Проверена структура директорий
- [ ] Установлены права доступа

### База данных
- [ ] Создан пользователь PostgreSQL
- [ ] Создана база данных
- [ ] Импортированы данные из бэкапа
- [ ] Проверена целостность данных

### Backend
- [ ] Создано виртуальное окружение Python
- [ ] Установлены зависимости (requirements.txt)
- [ ] Создан .env файл
- [ ] Заполнены все переменные окружения
- [ ] Применены миграции Alembic
- [ ] Протестирован запуск backend

### Frontend
- [ ] Установлены зависимости (npm install)
- [ ] Создан .env.local файл
- [ ] Заполнены все переменные окружения
- [ ] Протестирован запуск frontend

### Systemd сервисы
- [ ] Создан файл marketsport-backend.service
- [ ] Создан файл marketsport-frontend.service
- [ ] Сервисы добавлены в автозагрузку
- [ ] Сервисы запущены и работают

### Nginx
- [ ] Создана конфигурация сайта
- [ ] Конфигурация проверена (nginx -t)
- [ ] Nginx перезагружен
- [ ] Проверена работа через Nginx

### DNS и SSL
- [ ] Обновлены DNS записи
- [ ] Настроен SSL сертификат (Let's Encrypt)
- [ ] Проверена работа по HTTPS

## Тестирование

### Функциональное тестирование
- [ ] Главная страница открывается
- [ ] Страница матча открывается
- [ ] Авторизация через Privy работает
- [ ] API endpoints отвечают
- [ ] Polymarket данные загружаются
- [ ] Торговля работает (если применимо)

### Производительность
- [ ] Проверена скорость загрузки страниц
- [ ] Проверена работа API
- [ ] Проверена работа базы данных

### Мониторинг
- [ ] Настроен мониторинг сервисов
- [ ] Настроены алерты
- [ ] Проверены логи

## Безопасность

- [ ] Изменены все пароли по умолчанию
- [ ] Обновлены секретные ключи
- [ ] Настроен firewall
- [ ] Настроен SSL/TLS
- [ ] Проверены права доступа к файлам

## Финальная проверка

- [ ] Все сервисы работают
- [ ] Сайт доступен из интернета
- [ ] Нет ошибок в логах
- [ ] Создан план регулярных бэкапов
- [ ] Документация обновлена

## Откат (если нужно)

- [ ] Старый сервер еще работает
- [ ] Бэкап базы данных сохранен
- [ ] Знаю как откатить изменения

